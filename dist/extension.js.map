{"version":3,"sources":["../webpack/bootstrap",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel/dist/src/channel.js","../external \"vscode\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Logging.js",".././node_modules/xmlbuilder/lib/XMLNode.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/index.js","../external \"path\"",".././src/commands/metadatamanagement/profiles/ProfileFilesManager.ts",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Util.js","../external \"fs\"",".././src/commands/builders/prompts/Prompts.ts",".././node_modules/xmlbuilder/lib/Utility.js",".././src/monitoring/monitor.ts",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/CorrelationIdManager.js","../external \"os\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Constants.js","../external \"url\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/RequestResponseHeaders.js",".././node_modules/xmlbuilder/lib/XMLElement.js",".././node_modules/xmlbuilder/lib/XMLCData.js",".././node_modules/xmlbuilder/lib/XMLComment.js",".././node_modules/xmlbuilder/lib/XMLDeclaration.js",".././node_modules/xmlbuilder/lib/XMLDocType.js",".././node_modules/xmlbuilder/lib/XMLDTDAttList.js",".././node_modules/xmlbuilder/lib/XMLDTDEntity.js",".././node_modules/xmlbuilder/lib/XMLDTDElement.js",".././node_modules/xmlbuilder/lib/XMLDTDNotation.js",".././node_modules/xmlbuilder/lib/XMLRaw.js",".././node_modules/xmlbuilder/lib/XMLText.js",".././node_modules/xmlbuilder/lib/XMLProcessingInstruction.js",".././node_modules/xml2js/lib/processors.js","../external \"http\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","../external \"https\"",".././src/commands/metadatamanagement/sObjects/structures/SObjectType.ts",".././node_modules/xml2js/lib/defaults.js",".././node_modules/xmlbuilder/lib/XMLStringWriter.js","../external \"timers\"",".././src/commands/metadatamanagement/profiles/structures/AccessType.ts",".././src/config/config-manager.ts",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././node_modules/semver/semver.js","../external \"util\"","../external \"assert\"",".././node_modules/emitter-listener/listener.js",".././node_modules/shimmer/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Performance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Config.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Context.js",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Date.ts",".././src/commands/metadatamanagement/profiles/structures/ProfileUserPermission.ts",".././src/commands/metadatamanagement/sObjects/SObjectFilesManager.ts",".././node_modules/xml2js/lib/xml2js.js",".././node_modules/xmlbuilder/lib/XMLAttribute.js",".././node_modules/xmlbuilder/lib/XMLStringifier.js",".././node_modules/xmlbuilder/lib/XMLWriterBase.js","../external \"stream\"","../external \"events\"",".././src/commands/metadatamanagement/utils.ts",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel/dist/src/patchRequire.js","../external \"module\"",".././node_modules/stack-chain/index.js","../external \"child_process\"","../external \"zlib\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Traceparent.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././src/extension.ts",".././src/commands/index.ts",".././src/commands/create-field.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFieldType.ts",".././src/commands/builders/SObjectFieldBuilders.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFieldTemplates.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Text.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Checkbox.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Email.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Phone.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/TextArea.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/LongTextArea.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Number.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Lookup.ts",".././src/commands/builders/prompts/types/Fields.ts",".././src/commands/builders/prompts/types/Profiles.ts",".././src/commands/builders/prompts/types/SObjects.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFile.ts",".././node_modules/xml2js/lib/builder.js",".././node_modules/xmlbuilder/lib/index.js",".././node_modules/xmlbuilder/lib/XMLDocument.js",".././node_modules/xmlbuilder/lib/XMLDocumentCB.js",".././node_modules/xmlbuilder/lib/XMLStreamWriter.js",".././node_modules/xml2js/lib/parser.js",".././node_modules/sax/lib/sax.js","../external \"string_decoder\"",".././node_modules/xml2js/lib/bom.js",".././src/commands/metadatamanagement/profiles/structures/ProfileFile.ts",".././src/config/config.ts",".././node_modules/vscode-extension-telemetry/lib/telemetryReporter.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/applicationinsights.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/index.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","../external \"console\"",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././node_modules/cls-hooked/index.js",".././node_modules/cls-hooked/context.js","../external \"async_hooks\"",".././node_modules/cls-hooked/context-legacy.js",".././node_modules/async-hook-jl/index.js",".././node_modules/async-hook-jl/async-hook.js",".././node_modules/async-hook-jl/patches/next-tick.js",".././node_modules/async-hook-jl/patches/promise.js",".././node_modules/async-hook-jl/patches/timers.js",".././node_modules/stack-chain/stack-chain.js",".././node_modules/stack-chain/format.js",".././node_modules/continuation-local-storage/context.js",".././node_modules/async-listener/index.js",".././node_modules/async-listener/glue.js","../external \"net\"","../external \"dns\"","../external \"crypto\"",".././node_modules/async-listener/es6-wrapped-promise.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Console.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Exceptions.js","../external \"constants\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Tracestate.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/ConnectionStringParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/NodeClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/TelemetryClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Channel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Sender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/EnvelopeFactory.js",".././src/commands/configure-default-fields-profiles.ts",".././src/commands/configure-profiles-apex-classes.ts",".././src/commands/metadatamanagement/apexClasses/apexClassesFileManager.ts",".././src/commands/metadatamanagement/apexClasses/structures/ApexClassFile.ts",".././src/commands/configure-profiles-apex-pages.ts",".././src/commands/metadatamanagement/apexPages/apexPagesFileManager.ts",".././src/commands/metadatamanagement/apexPages/structures/ApexPageFile.ts",".././src/commands/configure-profiles-user-permissions.ts",".././src/commands/configure-cross-profile-user-permission.ts",".././src/commands/configure-profiles-fls.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","this","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","require","channel","Logging","info","message","optionalParams","_i","arguments","enableDebug","console","TAG","warn","disableWarnings","disableErrors","XMLCData","XMLComment","XMLDeclaration","XMLDocType","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","isEmpty","isFunction","isObject","ref","hasProp","XMLNode","parent","options","stringify","children","element","attributes","text","childNode","item","j","k","lastChild","len","len1","ref1","val","valueOf","Array","isArray","apply","ignoreDecorators","convertAttKey","indexOf","attribute","substr","separateArrayItems","convertTextKey","convertCDataKey","cdata","convertCommentKey","comment","convertRawKey","raw","convertPIKey","instruction","node","Error","insertBefore","child","removed","isRoot","insertAfter","remove","concat","commentBefore","commentAfter","target","insTarget","insValue","instructionBefore","instructionAfter","declaration","encoding","standalone","doc","xmldec","document","unshift","root","doctype","pubID","sysID","ref2","up","isDocument","rootObject","end","prev","next","importDocument","clonedRoot","clone","ele","nod","txt","dat","com","ins","dec","dtd","u","importXMLBuilder","__export","getObjectsFromMetaData","path","join","vscode","workspace","rootPath","files","fs","readdirSync","generateProfilesDefinitions","fileNames","map","filename","readProfileDefinitionFile","objDef","Promise","resolve","reject","filePath","folder","toString","fileName","fileContent","readFileSync","xmlParser","xml2js","Parser","explicitArray","valueProcessors","parseBooleans","parsedFile","parseString","err","result","writeProfileDefinitionFile","fileNamePath","stuffToWrite","xml","Builder","undefined","buildObject","escaped","replace","writeFileSync","updateProfilesVisibilityForField","profiles","fieldsInfos","accessType","profileFile","prof","mappedFields","Profile","fieldPermissions","reduce","acc","curr","field","fieldInfo","fields","fieldMeta","currField","sObject","label","fullName","log","readable","none","editable","edit","sort","a","b","sortItemsByField","prf","updateProfilesApexClassesAccess","profile","enabledClasses","classAccesses","classAccess","enabled","includes","apexClass","updateProfilesApexPagesAccess","enabledPages","pageAccesses","pageAccess","apexPage","updateProfilesUserPermissions","enabledPermissions","userPermissions","mappedPermissions","current","perm","permission","updateProfileSinglePermission","find","__assign","assign","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","split","trim","substring","str","int32ArrayToBase64","array","toChar","v","String","fromCharCode","x","Buffer","from","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","id","obj","isError","isPrimitive","input","propType","isDate","msToTimeSpan","totalms","isNaN","sec","toFixed","min","floor","hour","days","extractError","looseError","code","extractObject","origProperty","toJSON","validateStringMap","stringTarget","JSON","constructor","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","client","requestUrl","excludedDomains","config","correlationHeaderExcludedDomains","RegExp","test","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","host","port","pathname","proxyUrl","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","request","safeIncludeCorrelationHeader","correlationHeader","header","addCorrelationIdHeaderFromString","setHeader","requestContextSourceKey","correlationId","components","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","sObjects","isPlainObject","slice","source","sources","ctor","proto","getPrototypeOf","Function","fesTa","Monitor","monitor","instance","context","extensionVersion","extensions","getExtension","packageJSON","subscriptions","tag","properties","measurements","sendTelemetryEvent","dispose","Domain","CorrelationIdManager","queryCorrelationId","callback","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","method","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","on","correlationIdPrefix","setTimeout","correlationIdRetryIntervalMs","error","cancelCorrelationIdQuery","generateRequestId","parentId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","startIndex","delimiter","requestIdMaxLength","trimPosition","w3cEnabled","DiagChannel","CorrelationContextManager","getCurrentContext","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","fn","wrapEmitter","emitter","bindEmitter","wrapCallback","enable","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","disable","nodeVer","process","versions","parseInt","canUseClsHooked","greater800","less820","greater470","props","addHeaderData","keyvals","keyval","parts","serializeToHeader","getProperty","setProperty","bannedCharacters","QuickPulseCounter","PerformanceCounter","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","PROCESSOR_TIME","REQUEST_RATE","REQUEST_DURATION","COMMITTED_BYTES","REQUEST_FAILURE_RATE","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","EXCEPTION_RATE","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","XMLAttribute","superClass","__super__","eleName","documentObject","extend","att","attName","clonedSelf","clonedChild","attValue","skipNullAttributes","removeAttribute","writer","set","xmlVersion","xmlEncoding","xmlStandalone","XMLDTDAttList","XMLDTDElement","XMLDTDEntity","XMLDTDNotation","dtdPubID","dtdSysID","attList","elementName","attributeName","attributeType","defaultValueType","defaultValue","entity","pEntity","notation","docType","ent","pent","not","match","dtdAttType","dtdAttDefault","dtdAttList","pe","nData","dtdNData","dtdEntityValue","dtdEntity","dtdElementValue","dtdElement","dtdNotation","eleText","processingInstruction","prefixMatch","normalize","toLowerCase","firstCharLowerCase","charAt","stripPrefix","parseNumbers","parseFloat","HttpDependencyParser","CorrelationContextManager_1","Traceparent","AutoCollectHttpDependencies","INSTANCE","_client","isEnabled","_isEnabled","_isInitialized","_initialize","IsInitialized","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","requestNumber","getUrl","getHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","SObjectType","defaults","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","includeWhiteChars","async","strict","attrNameProcessors","attrValueProcessors","tagNameProcessors","emptyTag","preserveChildrenOrder","rootName","renderOpts","headless","chunkSize","XMLWriterBase","XMLStringWriter","textispresent","pretty","newline","level","space","spacebeforeslash","textispresentwasset","newlinedefault","prettydefault","every","allowEmpty","dontprettytextnodes","openNode","rootNodeName","closeNode","AccessType","ConfigManager","getCfgPath","_currentConfig","init","existsSync","storedCfg","readConfig","handler","getInstance","storeConfig","Proxy","env","publishers","unpatchedModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","debug","SemVer","NODE_DEBUG","args","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","Number","re","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","TypeError","major","minor","patch","prerelease","num","build","format","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","list","rsort","Range","range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","_","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","max","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","shimmer","wrap","unwrap","SYMBOL","propertyIsEnumerable","configurable","writable","_listeners","self","_events","_findAndProcess","before","unprocessed","_process","_wrap","unwrapped","visit","wrapped","onAddListener","onEmit","addListener","removeListener","emit","adding","existing","returned","__wrapped","remover","funktion","logger","nodule","wrapper","stack","original","__unwrap","massWrap","nodules","names","massUnwrap","os","Constants","AutoCollectPerformance","collectionInterval","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","duration","success","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","PROCESS_TIME","freeMem","freemem","usedMem","memoryUsage","rss","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","_lastRequestExecutionTime","_lastDependencyExecutionTime","ConnectionStringParser","Config","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","keys","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","setCorrelationId","ENV_http_proxy","ENV_https_proxy","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","ENV_nativeMetricsDisablers","ENV_nativeMetricsDisableAll","Contracts","Context","packageJsonPath","ContextTagKeys","tags","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","exception","applicationVersion","deviceId","cloudRoleInstance","deviceOSVersion","type","cloudRole","DefaultRoleName","arch","platform","sdkVersion","internalSdkVersion","externalId","required","ProfileUserPermission","generateSObjectDefinitions","readSObjectDefinitionFile","writeSObjectDefinitionFile","builder","parser","processors","ValidationError","XMLStringifier","me","assertLegalChar","noDoubleEncoding","elEscape","attEscape","ampregex","ref3","ref4","ref5","ref6","indent","offset","fieldName","moduleModule","nativeModules","binding","originalRequire","patchedModules","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","_stackChain","Base","Data","DataPoint","DataPointType","Envelope","ExceptionDetails","PageViewData","SeverityLevel","StackFrame","extendStatics","__extends","setPrototypeOf","__proto__","__","_super","ver","RequestParser","startTime","_setStatus","status","endTime","_isSuccess","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","isValidSpanId","legacyRootId","lastIndexOf","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","getRequestId","getOperationName","getCorrelationContextHeader","getTraceparent","getTracestate","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","once","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","getLegacyRootId","commands","registerCommand","createField","configureDefaultFieldsProfiles","configureProfilesApexClasses","configureProfilesApexPages","configureProfilesUserPermissions","configureCrossProfileUserPermission","configureProfilesFLS","executeCommand","sendEvent","fieldCreationWizard","otherFields","availableSObjectsList","forbiddenApiNames","pickedFieldType","window","showQuickPick","el","ignoreFocusOut","placeHolder","pickSObjectFieldType","SObjectFiles","pickedSObject","pickOne","objectDefinition","sObjectFieldDefinition","CustomObject","file","sObjectType","SObject","getConfig","defaultProfiles","showInformationMessage","showErrorMessage","SObjectFieldType","Checkbox","apiName","isRequired","SObjectFieldTemplates","Text","stringLength","isExternalId","unique","isUnique","Email","DateTime","Phone","TextArea","LongTextArea","precision","scale","precisionAndScale","Lookup","referenceTo","lookupTarget","relationshipLabel","relationshipName","relationshipApiName","caseSensitive","visibleLines","deleteConstraint","possibleValues","minLength","maxLength","regex","fieldLength","showInputBox","valueSelection","prompt","validateInput","pickedSObj","relLabel","relApiName","pickMany","preselected","selected","profilesOptions","picked","canPickMany","pickUserPermission","sObjectDefinitions","extension","endsWith","CustomMetadata","escapeCDATA","requiresCDATA","wrapCDATA","entry","opts","rootObj","render","rootElement","attr","allowSurrogateChars","XMLDocument","XMLDocumentCB","XMLStreamWriter","begin","onData","onEnd","stringWriter","streamWriter","stream","writerOptions","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","openCurrent","isOpen","isClosed","chunk","results","isLastRootNode","write","endline","bom","events","processItem","sax","setImmediate","thing","assignOrPush","processAsync","xmlnskey","remaining","saxParser","close","error1","errThrown","newValue","ontext","removeAllListeners","onerror","resume","onend","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","uri","local","onclosetag","emptyStr","nodeName","objClone","old","xpath","pop","charChild","oncdata","stripBOM","EventEmitter","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","clearBuffers","q","bufferCheckPosition","lowercase","lowercasetags","looseCase","closed","closedRoot","sawRoot","noscript","state","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","rootNS","trackPosition","position","line","column","EVENTS","F","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","toUpperCase","emitNode","CDATA","COMMENT","DOCTYPE","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","buffer","parseEntity","entityBody","entityStart","maxAllowed","maxActual","closeText","checkBufferLength","flush","ex","streamWraps","ev","_parser","_decoder","h","isBuffer","SD","StringDecoder","XML_NAMESPACE","stringFromCharCode","fromCodePoint","STATE","COMMENT_STARTING","nodeType","qname","qualName","qn","selfClosing","nv","isSelfClosing","closeTo","entityLC","numStr","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","isFinite","RangeError","appInsights","TelemetryReporter","extensionId","firstParty","userOptIn","logFilePath","logStream","createWriteStream","flags","autoClose","updateUserOptIn","configListener","onDidChangeConfiguration","getConfiguration","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","start","commonProperties","getCommonProperties","userId","machineId","sessionId","uiKind","UIKind","Web","Desktop","cleanRemoteName","remoteName","shouldSendErrorTelemetry","extensionKind","ExtensionKind","Workspace","_extension","cloneAndChange","change","anonymizeFilePaths","cleanupPatterns","appRoot","extensionPath","updatedStack","cleanUpIndexes","cleanupPatterns_1","regexp","exec","lastIndex","nodeModulesRegex","fileRegex","_loop_1","y","cleanupPatterns_2","eventName","cleanProperties","_key","trackEvent","sendTelemetryErrorEvent","errorProps","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","all","default","DistributedTracingModes","AutoCollectConsole","AutoCollectExceptions","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","AutoCollectNativePerformance","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","collectConsoleLog","collectExtendedMetrics","extendedMetricsConfig","parseEnabled","disabledMetrics","useAsyncHooks","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","addCollector","quickPulseClient","azuresdk","consolePub","tedious","diagnostic_channel_1","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","shutdown","azureCoreTracing","coreTracing","tracer_1","BasicTracer","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","originalBunyan","originalEmit","_emit","rec","noemit","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","stderr","aiLoggingConsole","Console","originalMethod","consoleMethods_1","mongoCore","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","requestId","startedData","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","query","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","events_1","postgres6","originalPg","originalPgPath","originalClientQuery","Client","values","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","command","ceil","preparable","plan","postgres7","callbackProvided","then","_Promise","catch","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","connection","parametersByName","statement","__rest","getOwnPropertySymbols","winston3","originalWinston","AppInsightsTransport","meta","splat","levelKind","npm","levels","syslog","mapLevelToKind","Transport","patchedConfigure","lastLevel","add","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","f","util","assert","async_hooks","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","Map","_indent","getNamespace","namespaces","destroyNamespace","namespace","ok","inspect","debug2","_rawDebug","createHook","asyncId","triggerId","resource","executionAsyncId","indentStr","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","enter","exit","delete","ERROR_SYMBOL","asyncHooksCurrentId","currentId","createContext","_ns_name","run","runAndReturn","runPromise","promise","thisSymbol","unwrappedContexts","thunk","fromException","asyncHook","invertedProviders","providers","msg","DEBUG","getFunctionName","addHooks","uid","handle","provider","parentUid","parentHandle","_state","stackChain","modifier","_modifiers","deattach","AsyncHook","_asyncHook","attach","frames","callSite","getFileName","asyncWrap","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","counter","Hooks","initFns","preFns","postFns","destroyFns","hook","pre","has","post","didThrow","destroy","removeElement","_hooks","setupHooks","hooks","removeHooks","NextTickWrap","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","clearTimeout","clearImmediate","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","chain","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","lines","ee","FormatErrorString","frame","removeAsyncListener","addAsyncListener","contexts","storage","after","v6plus","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","socket","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Socket","onSocket","childProcess","wrapChildProcess","stdio","activatorFirst","onexit","ChildProcess","_fatalException","_originalNextTick","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","lchown","lchmod","ftruncate","Deflate","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","executor","ensureAslWrapper","inherits","wrapThen","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","aslWrapper","last","wrapPromise","asyncCatcher","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","missing","errorValues","inErrorTick","handled","errorThrew","threw","AsyncListener","callbacks","createAsyncListener","registered","simpleWrap","super","_methodNames","Contracts_1","clients","subscriber","trackTrace","severity","Warning","Information","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","deviceLocale","deviceModel","deviceOEMName","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","internalAgentVersion","internalNodeName","kind","Measurement","sampleRate","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","bunyanToAILevelMap","10","Verbose","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","verbose","silly","unknown","_canUseUncaughtExceptionMonitor","_exceptionListenerHandle","reThrow","_FALLBACK_ERROR_MESSAGE","isAppCrashing","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","_RETHROW_EXIT_MESSAGE","_getUrlFromRequestOptions","baseTelemetry","dependencyId","urlObject","search","hash","dependencyName","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","commandName","dbName","databaseName","queryObj","sqlString","sql","connectionConfig","_connection","socketPath","conn","Tracestate","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","check","ip","rawHeaders","parseId","setBackCompatFromThisTraceContext","userAgent","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","Boolean","vendorValid","keydeduper","parts_1","part","pair","QuickPulseEnvelopeFactory","QuickPulseSender","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_sender","collector","_addMetric","addDocument","envelope","telemetryEnvelopeToQuickPulseDocument","_goQuickPulse","enableCollectors","count","Value","Weight","createQuickPulseMetric","Name","_resetQuickPulseBuffer","createQuickPulseEnvelope","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","ping","_quickPulseDone","shouldPOST","connectionString","_FIELDS_SEPARATOR","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","endpointsuffix","locationPrefix","location","StreamId","documents","machineName","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","baseData","severityLevel","Message","exceptionDetails","exceptionMessage","exceptionType","assembly","typeName","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","responseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseConfig","_config","_consecutiveErrors","done","_submitData","postOrPing","_b","payload","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","_disabledMetrics","_metricsAvailable","NativeMetricsEmitters","_emitter","_trackNativeMetrics","disableAll","individualOptOuts","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","pow","total","loop","getLoopData","loopUsage","heap","_c","heapUsed","heapTotal","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Channel","TelemetryProcessors","Sender","EnvelopeFactory","_telemetryProcessors","sender","trackAvailability","track","triggerSend","telemetryType","createEnvelope","toISOString","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","send","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setDiskRetryMode","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","charCodeAt","abs","requestData","remoteDependencyData","child_process","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","spawn","windowsHide","signal","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdout","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","lstat","stats","mkdir","isDirectory","_getShallowDirectorySize","readdir","totalSize","stat","fileStats","isFile","size","_getShallowDirectorySizeSync","statSync","tmpdir","TEMPDIR_PREFIX","getTime","fileFullPath","writeFile","mkdirSync","dirSize","tempDir","exists","basename","firstFile","readFile","unlink","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","getTags","trace","remoteDependency","parseStack","metric","Aggregation","availabilityData","runLocation","totalSizeInBytes","_StackFrame","parsedFrame","sizeInBytes","left","right","acceptedLeft","acceptedRight","howMany","matches","baseSize","selectedProfiles","selectedProfile","unpackedProfile","availableApexClasses","selectedApexClassesNames","classes","preselectedClasses","classesOptions","configureClassAccessForProfile","availableApexPages","selectedApexPagesNames","preselectedPages","pagesOptions","page","preselectedPermissionsMap","permissionOptions","found","description","configureUserPermissions","unpackedProfileMetas","profileMetas","configureProfilesForPermission","sObj","pickedField","profileName","sObjectName","filteredSelectedObjFields","startsWith","detail","matchOnDetail","configureFLSForProfileAndSObject","read","configureFLSForField"],"mappings":"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A,4CACA,wCACA,4CACA,0CACA,sBACA,0BACA,wBACA,4BACA,4CACA,8BACA,8CACA,4CACA,4BACA,kCACA,wDACA,sCACA,kEACA,oDACA,gCACA,oDACA,4CACA,0DACA,wCACA,4BACA,sCACA,0CACA,sDACA,oDACA,0CACA,kCACA,oDACA,oDACA,wDACA,8CACA,kDACA,oDACA,oDACA,8CACA,wCACA,wCACA,4CACA,wCACA,4BACA,wDACA,8BACA,kCACA,gDACA,kCACA,kDACA,8DACA,oDACA,8BACA,0CACA,wDACA,4BACA,gCACA,oCACA,kCACA,wCACA,8CACA,4BACA,4BACA,oCACA,gCACA,kCACA,sCACA,0DACA,wCACA,0BACA,sCACA,0DACA,kCACA,oBACA,0BACA,4BACA,oCACA,wDACA,oCACA,0DACA,kCACA,4CACA,kEACA,4DACA,wDACA,kEACA,4DACA,kDACA,oCACA,wCACA,oCACA,oDACA,kDACA,0BACA,4BACA,sCACA,8BACA,0CACA,0CACA,wCACA,oCACA,8BACA,gDACA,8CACA,wCACA,wBACA,wBA5JF,CAAKA,MAAqB,KA+J1B,UAAeA,G,iXCpKf,cACA,OACA,OACA,OACA,QACA,QAGA,UAAe,CAEbz3B,uBAAwB,WACtB,MAAMjK,EAAIkK,EAAKC,KAAKC,EAAOC,UAAUC,SAAoB,MAAO,WAC1DC,EAAQC,EAAGC,YAAYzK,GAC7B,GAAqB,IAAjBuK,EAAMrI,OAAgB,MAAMgF,MAAM,kDAAoDlH,GAC1F,OAAOQ,KAAKmhC,2BAA2Bp3B,EAAOvK,IAGhD2hC,2BAA4B,SAAUh3B,EAAqBT,GACzD,OAAOS,EAAUC,IAAIC,GAAY,IAAI,UAAYA,EAAUX,KAG7D03B,0BAA2B,SAAgB72B,G,yCACzC,OAAO,IAAIC,QAAQ,CAAOC,EAASC,IAAW,EAAD,gCAC3C,MAAMC,EAAWjB,EAAKC,KAAKY,EAAOK,OAAOC,WAAYN,EAAOO,UACtDC,EAAcf,EAAGgB,aAAaL,EAAU,CAAEjD,SAAU,UACpDuD,EAAY,IAAIC,EAAOC,OAAO,CAAEC,eAAe,EAAOC,gBAAiB,CAA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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 74);\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","module.exports = require(\"vscode\");","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLProcessingInstruction, XMLRaw, XMLText, isEmpty, isFunction, isObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isEmpty = ref.isEmpty;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.children = [];\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      }\n    }\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref1, val;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            lastChild = this.element(key);\n            lastChild.element(val);\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref1;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref1;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      attributes || (attributes = {});\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children[0] instanceof XMLDeclaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref1, ref2;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref1 = doc.children;\n      for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n        child = ref1[i];\n        if (child instanceof XMLDocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref2 = doc.children;\n      for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {\n        child = ref2[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.isDocument) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.isDocument) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","module.exports = require(\"path\");","import ProfileFile from './structures/ProfileFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as xml2js from 'xml2js'\nimport { parseBooleans } from 'xml2js/lib/processors'\nimport { PathLike } from \"fs\"\nimport SObjectFieldDefinition from '../sObjects/structures/SObjectFieldDefinition'\nimport AccessType from './structures/AccessType'\nimport SObjectFile from '../sObjects/structures/SObjectFile'\nimport utils from '../utils'\nimport UserPermission from './structures/profile-fields-templates/UserPermission'\nimport FieldPermission from './structures/profile-fields-templates/FieldPermission'\n\nexport default {\n\n  getObjectsFromMetaData: function (): ProfileFile[] {\n    const p = path.join(vscode.workspace.rootPath as string, 'src', 'profiles')\n    const files = fs.readdirSync(p)\n    if (files.length === 0) { throw Error('No Profile definition file was found in folder ' + p) }\n    return this.generateProfilesDefinitions(files, p)\n  },\n\n  generateProfilesDefinitions: function (fileNames: string[], path: fs.PathLike): ProfileFile[] {\n    return fileNames.map(filename => new ProfileFile(filename, path))\n  },\n\n  readProfileDefinitionFile: async function (objDef: ProfileFile): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n      const filePath = path.join(objDef.folder.toString(), objDef.fileName)\n      const fileContent = fs.readFileSync(filePath, { encoding: 'utf-8' })\n      const xmlParser = new xml2js.Parser({ explicitArray: false, valueProcessors: [parseBooleans] })\n      try {\n        const parsedFile: any = await new Promise((resolve, reject) => {\n          xmlParser.parseString(fileContent, (err: any, result: any) => {\n            if (err) { reject(err) }\n            else { resolve(result) }\n          })\n        })\n        resolve(parsedFile)\n      } catch (err) {\n        reject(err)\n      }\n    })\n  },\n\n  writeProfileDefinitionFile: function (fileNamePath: PathLike, stuffToWrite: any) {\n    const builder = new xml2js.Builder({ xmldec: { standalone: undefined, encoding: 'UTF-8', version: '1.0' } })\n    //Probably there's a bug in the builder class\n    const xml = builder.buildObject(stuffToWrite)\n    //130 is the number of characters of the first two lines containing header + root object definition\n    let escaped = xml.substr(0, 130) + xml.substr(130, xml.length - 130).replace(/\"/g, '&quot;').replace(/'/g, '&apos;')\n    fs.writeFileSync(fileNamePath.toString(), escaped, 'utf8')\n  },\n\n  updateProfilesVisibilityForField: async function (profiles: ProfileFile[], fieldsInfos: { sObject: SObjectFile, fields: [SObjectFieldDefinition] }[], accessType: AccessType) {\n    try {\n      profiles.forEach(async profileFile => {\n        const prof = await this.readProfileDefinitionFile(profileFile)\n        const mappedFields = prof.Profile.fieldPermissions.reduce((acc: any, curr: FieldPermission) => {\n          acc[curr.field] = curr\n          return acc\n        }, {})\n        fieldsInfos.forEach(fieldInfo => {\n          fieldInfo.fields.forEach(fieldMeta => {\n            let currField = `${fieldInfo.sObject.label}.${fieldMeta.fullName}`\n            console.log(currField)\n            if (!mappedFields[currField]) {\n              prof.Profile.fieldPermissions.push({\n                readable: accessType !== AccessType.none,\n                field: `${fieldInfo.sObject.label}.${fieldMeta.fullName}`,\n                editable: accessType === AccessType.edit\n              })\n            } else {\n              mappedFields[currField].readable = accessType !== AccessType.none\n              mappedFields[currField].editable = accessType === AccessType.edit\n            }\n          })\n        })\n        prof.Profile.fieldPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'field'))\n        this.writeProfileDefinitionFile(path.join(profileFile.folder.toString(), profileFile.fileName), prof)\n      })\n    } catch (err) {\n      throw Error(`Error updating field-level security for profiles: ${profiles.map(prf => prf.label)}`)\n    }\n  },\n\n  updateProfilesApexClassesAccess: async function (profile: ProfileFile, enabledClasses: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n      prof.Profile.classAccesses.forEach((classAccess: { enabled: boolean; apexClass: string; }) => {\n        classAccess.enabled = enabledClasses.includes(classAccess.apexClass)\n      })\n      prof.Profile.classAccesses.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'apexClass'))\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Apex Class Access for profile: ${profile.label}`)\n    }\n  },\n\n  updateProfilesApexPagesAccess: async function (profile: ProfileFile, enabledPages: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n      prof.Profile.pageAccesses.forEach((pageAccess: { enabled: boolean; apexPage: string; }) => {\n        pageAccess.enabled = enabledPages.includes(pageAccess.apexPage)\n      })\n      prof.Profile.pageAccesses.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'apexPage'))\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  },\n\n  /**\n   * The behaviour is: we check the files and pre-selected the enabled ones.\n   * Then we show the user the entire list and we allow him/her to select the enabled ones\n   * In the end, we turn everything off, turning then on the selected ones and adding the missing ones in\n   * the original file\n   */\n  updateProfilesUserPermissions: async function (profile: ProfileFile, enabledPermissions: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n\n      const userPermissions: UserPermission[] = prof.Profile.userPermissions\n      const mappedPermissions = userPermissions.reduce((acc: any, current: any) => {\n        acc[current.name] = current\n        return acc\n      }, {})\n\n      //Turn off the ones which are already in the profile metadata file\n      userPermissions.forEach(perm => {\n        perm.enabled = false\n      })\n\n      //Turning on the selected ones, adding the missing ones in the file\n      enabledPermissions.forEach((permission: string) => {\n        if (mappedPermissions[permission]) { mappedPermissions[permission].enabled = true }\n        else { userPermissions.push({ enabled: true, name: permission }) }\n      })\n\n      userPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'name'))\n\n      prof.Profile.userPermissions = userPermissions\n\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  },\n\n  updateProfileSinglePermission: async function (profile: ProfileFile, permission: string, enabled: boolean) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n\n      const userPermissions: UserPermission[] = prof.Profile.userPermissions\n      let perm = userPermissions.find((perm) => perm.name === permission)\n\n      if (perm) { perm.enabled = enabled }\n      else if (perm === undefined && enabled) {\n        perm = { enabled: true, name: permission }\n        userPermissions.push(perm)\n      }\n\n      userPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'name'))\n      prof.Profile.userPermissions = userPermissions\n\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  }\n}","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","module.exports = require(\"fs\");","import Fields from './types/Fields'\nimport Profiles from './types/Profiles'\nimport SObjects from './types/SObjects'\n\nexport default {\n  fields: Fields,\n  profiles: Profiles,\n  sObjects: SObjects\n}","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n}).call(this);\n","import * as vscode from 'vscode'\nimport TelemetryReporter from 'vscode-extension-telemetry'\nconst fesTa = Buffer.from('NDk1ZjYzOTItNzE1NC00MjNkLThlYzYtMDNhYmRmNjcyMDA3', 'base64').toString()\n\nexport default class Monitor {\n    private monitor?: TelemetryReporter = undefined\n    private static instance: Monitor\n\n    static getInstance(): Monitor {\n        if (this.instance === undefined) {\n          this.instance = new Monitor()\n        }\n        return this.instance\n      }\n\n    init(context: vscode.ExtensionContext) {\n        const extensionId = 'tr4uma.swift-sfdc'\n        const extension = vscode.extensions.getExtension(extensionId)!\n        const extensionVersion = extension.packageJSON.version\n        this.monitor = new TelemetryReporter(extensionId, extensionVersion, fesTa)\n        context.subscriptions.push(this.monitor)\n    }\n\n    sendEvent(tag: string, properties?: {[key: string]: string;}, measurements?: {[key: string]: number;}): void {\n        try{\n            if(this.monitor) { this.monitor.sendTelemetryEvent(tag, properties, measurements) }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    dispose(): void {\n        try {\n            if(this.monitor) { this.monitor.dispose() }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n}","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","module.exports = require(\"os\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","module.exports = require(\"url\");","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction;\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.isDocument) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attributes = {};\n      ref1 = this.attributes;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, i, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (Array.isArray(name)) {\n        for (i = 0, len = name.length; i < len; i++) {\n          attName = name[i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.set(options).element(this);\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.set(options).cdata(this);\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLComment, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.set(options).comment(this);\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.set(options).declaration(this);\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var ref, ref1;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref = pubID, pubID = ref.pubID, sysID = ref.sysID;\n      }\n      if (sysID == null) {\n        ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.set(options).docType(this);\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdAttList(this);\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdEntity(this);\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdElement(this);\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdNotation(this);\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.set(options).raw(this);\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.set(options).text(this);\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.set(options).processingInstruction(this);\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","module.exports = require(\"http\");","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","module.exports = require(\"https\");","export enum SObjectType {\n    SObject,\n    CustomMetadata\n}\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLText, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc) {\n      var child, i, len, r, ref;\n      this.textispresent = false;\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += (function() {\n          switch (false) {\n            case !(child instanceof XMLDeclaration):\n              return this.declaration(child);\n            case !(child instanceof XMLDocType):\n              return this.docType(child);\n            case !(child instanceof XMLComment):\n              return this.comment(child);\n            case !(child instanceof XMLProcessingInstruction):\n              return this.processingInstruction(child);\n            default:\n              return this.element(child, 0);\n          }\n        }).call(this);\n      }\n      if (this.pretty && r.slice(-this.newline.length) === this.newline) {\n        r = r.slice(0, -this.newline.length);\n      }\n      return r;\n    };\n\n    XMLStringWriter.prototype.attribute = function(att) {\n      return ' ' + att.name + '=\"' + att.value + '\"';\n    };\n\n    XMLStringWriter.prototype.cdata = function(node, level) {\n      return this.space(level) + '<![CDATA[' + node.text + ']]>' + this.newline;\n    };\n\n    XMLStringWriter.prototype.comment = function(node, level) {\n      return this.space(level) + '<!-- ' + node.text + ' -->' + this.newline;\n    };\n\n    XMLStringWriter.prototype.declaration = function(node, level) {\n      var r;\n      r = this.space(level);\n      r += '<?xml version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      r += this.spacebeforeslash + '?>';\n      r += this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.docType = function(node, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      r = this.space(level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.newline;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += (function() {\n            switch (false) {\n              case !(child instanceof XMLDTDAttList):\n                return this.dtdAttList(child, level + 1);\n              case !(child instanceof XMLDTDElement):\n                return this.dtdElement(child, level + 1);\n              case !(child instanceof XMLDTDEntity):\n                return this.dtdEntity(child, level + 1);\n              case !(child instanceof XMLDTDNotation):\n                return this.dtdNotation(child, level + 1);\n              case !(child instanceof XMLCData):\n                return this.cdata(child, level + 1);\n              case !(child instanceof XMLComment):\n                return this.comment(child, level + 1);\n              case !(child instanceof XMLProcessingInstruction):\n                return this.processingInstruction(child, level + 1);\n              default:\n                throw new Error(\"Unknown DTD node type: \" + child.constructor.name);\n            }\n          }).call(this);\n        }\n        r += ']';\n      }\n      r += this.spacebeforeslash + '>';\n      r += this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.element = function(node, level) {\n      var att, child, i, j, len, len1, name, r, ref, ref1, ref2, space, textispresentwasset;\n      level || (level = 0);\n      textispresentwasset = false;\n      if (this.textispresent) {\n        this.newline = '';\n        this.pretty = false;\n      } else {\n        this.newline = this.newlinedefault;\n        this.pretty = this.prettydefault;\n      }\n      space = this.space(level);\n      r = '';\n      r += space + '<' + node.name;\n      ref = node.attributes;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att);\n      }\n      if (node.children.length === 0 || node.children.every(function(e) {\n        return e.value === '';\n      })) {\n        if (this.allowEmpty) {\n          r += '></' + node.name + '>' + this.newline;\n        } else {\n          r += this.spacebeforeslash + '/>' + this.newline;\n        }\n      } else if (this.pretty && node.children.length === 1 && (node.children[0].value != null)) {\n        r += '>';\n        r += node.children[0].value;\n        r += '</' + node.name + '>' + this.newline;\n      } else {\n        if (this.dontprettytextnodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if (child.value != null) {\n              this.textispresent++;\n              textispresentwasset = true;\n              break;\n            }\n          }\n        }\n        if (this.textispresent) {\n          this.newline = '';\n          this.pretty = false;\n          space = this.space(level);\n        }\n        r += '>' + this.newline;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += (function() {\n            switch (false) {\n              case !(child instanceof XMLCData):\n                return this.cdata(child, level + 1);\n              case !(child instanceof XMLComment):\n                return this.comment(child, level + 1);\n              case !(child instanceof XMLElement):\n                return this.element(child, level + 1);\n              case !(child instanceof XMLRaw):\n                return this.raw(child, level + 1);\n              case !(child instanceof XMLText):\n                return this.text(child, level + 1);\n              case !(child instanceof XMLProcessingInstruction):\n                return this.processingInstruction(child, level + 1);\n              default:\n                throw new Error(\"Unknown XML node type: \" + child.constructor.name);\n            }\n          }).call(this);\n        }\n        if (textispresentwasset) {\n          this.textispresent--;\n        }\n        if (!this.textispresent) {\n          this.newline = this.newlinedefault;\n          this.pretty = this.prettydefault;\n        }\n        r += space + '</' + node.name + '>' + this.newline;\n      }\n      return r;\n    };\n\n    XMLStringWriter.prototype.processingInstruction = function(node, level) {\n      var r;\n      r = this.space(level) + '<?' + node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      r += this.spacebeforeslash + '?>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.raw = function(node, level) {\n      return this.space(level) + node.value + this.newline;\n    };\n\n    XMLStringWriter.prototype.text = function(node, level) {\n      return this.space(level) + node.value + this.newline;\n    };\n\n    XMLStringWriter.prototype.dtdAttList = function(node, level) {\n      var r;\n      r = this.space(level) + '<!ATTLIST ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.dtdElement = function(node, level) {\n      return this.space(level) + '<!ELEMENT ' + node.name + ' ' + node.value + this.spacebeforeslash + '>' + this.newline;\n    };\n\n    XMLStringWriter.prototype.dtdEntity = function(node, level) {\n      var r;\n      r = this.space(level) + '<!ENTITY';\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.dtdNotation = function(node, level) {\n      var r;\n      r = this.space(level) + '<!NOTATION ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.openNode = function(node, level) {\n      var att, name, r, ref;\n      level || (level = 0);\n      if (node instanceof XMLElement) {\n        r = this.space(level) + '<' + node.name;\n        ref = node.attributes;\n        for (name in ref) {\n          if (!hasProp.call(ref, name)) continue;\n          att = ref[name];\n          r += this.attribute(att);\n        }\n        r += (node.children ? '>' : '/>') + this.newline;\n        return r;\n      } else {\n        r = this.space(level) + '<!DOCTYPE ' + node.rootNodeName;\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        r += (node.children ? ' [' : '>') + this.newline;\n        return r;\n      }\n    };\n\n    XMLStringWriter.prototype.closeNode = function(node, level) {\n      level || (level = 0);\n      switch (false) {\n        case !(node instanceof XMLElement):\n          return this.space(level) + '</' + node.name + '>' + this.newline;\n        case !(node instanceof XMLDocType):\n          return this.space(level) + ']>' + this.newline;\n      }\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","module.exports = require(\"timers\");","enum AccessType {\n  none,\n  read,\n  edit\n}\n\nexport default AccessType","import SwiftSfdcConfiguration from './config'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\n\nexport default class ConfigManager {\n\n  private static instance: ConfigManager\n\n  static getInstance(): ConfigManager {\n    if (this.instance === undefined) {\n      this.instance = new ConfigManager()\n    }\n    return this.instance\n  }\n\n  private constructor() { this.init() }\n\n  private getCfgPath = () => path.join(vscode.workspace.rootPath as string, '.swift-sfdc.json')\n\n  private _currentConfig: any = undefined\n\n  getConfig(): SwiftSfdcConfiguration {\n    return this._currentConfig\n  }\n\n  readConfig(): SwiftSfdcConfiguration | undefined {\n    if (vscode.workspace.rootPath && fs.existsSync(this.getCfgPath())) {\n      const storedCfg = fs.readFileSync(this.getCfgPath(), 'utf8')\n      const cfg: SwiftSfdcConfiguration = JSON.parse(storedCfg)\n      return cfg\n    }\n    return undefined\n  }\n\n  private storeConfig(config: SwiftSfdcConfiguration): boolean {\n    try {\n      console.log('Storing configuration..')\n      fs.writeFileSync(this.getCfgPath(), JSON.stringify(config))\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  init() {\n    console.log('Initializing configuration..')\n    if (this._currentConfig === undefined) {\n      let config = this.readConfig()\n      if (config === undefined) {\n        console.log('Configuration not found, generating a new one')\n        config = new SwiftSfdcConfiguration()\n      }\n      const handler: ProxyHandler<SwiftSfdcConfiguration> = {\n        get(target: any, property: PropertyKey) {\n          return target[property]\n        },\n        set(target: any, property: PropertyKey, value: any): boolean {\n          target[property] = value\n          return ConfigManager.getInstance().storeConfig(target)\n        }\n      }\n      this._currentConfig = new Proxy(config, handler)\n      this.storeConfig(this._currentConfig)\n    }\n  }\n}","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","module.exports = require(\"util\");","module.exports = require(\"assert\");","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Date implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'Date'\n    this.required = required\n  }\n}","/**\n * Fetched by retrieving salesforce admin profiles.\n * Might miss some\n * Probably depending on the API version\n */\nenum ProfileUserPermission {\n  ActivateContract = 'ActivateContract',\n  ActivateOrder = 'ActivateOrder',\n  ActivitiesAccess = 'ActivitiesAccess',\n  AddDirectMessageMembers = 'AddDirectMessageMembers',\n  ApexRestServices = 'ApexRestServices',\n  ApiEnabled = 'ApiEnabled',\n  ApproveContract = 'ApproveContract',\n  AssignPermissionSets = 'AssignPermissionSets',\n  AssignTopics = 'AssignTopics',\n  AuthorApex = 'AuthorApex',\n  BulkApiHardDelete = 'BulkApiHardDelete',\n  BulkMacrosAllowed = 'BulkMacrosAllowed',\n  CanInsertFeedSystemFields = 'CanInsertFeedSystemFields',\n  CanUseNewDashboardBuilder = 'CanUseNewDashboardBuilder',\n  CanVerifyComment = 'CanVerifyComment',\n  ChangeDashboardColors = 'ChangeDashboardColors',\n  ChatterEditOwnPost = 'ChatterEditOwnPost',\n  ChatterEditOwnRecordPost = 'ChatterEditOwnRecordPost',\n  ChatterFileLink = 'ChatterFileLink',\n  ChatterInternalUser = 'ChatterInternalUser',\n  ChatterInviteExternalUsers = 'ChatterInviteExternalUsers',\n  ChatterOwnGroups = 'ChatterOwnGroups',\n  ConnectOrgToEnvironmentHub = 'ConnectOrgToEnvironmentHub',\n  ContentAdministrator = 'ContentAdministrator',\n  ContentWorkspaces = 'ContentWorkspaces',\n  ConvertLeads = 'ConvertLeads',\n  CreateAuditFields = 'CreateAuditFields',\n  CreateCustomizeDashboards = 'CreateCustomizeDashboards',\n  CreateCustomizeFilters = 'CreateCustomizeFilters',\n  CreateCustomizeReports = 'CreateCustomizeReports',\n  CreateDashboardFolders = 'CreateDashboardFolders',\n  CreatePackaging = 'CreatePackaging',\n  CreateReportFolders = 'CreateReportFolders',\n  CreateTopics = 'CreateTopics',\n  CreateWorkBadgeDefinition = 'CreateWorkBadgeDefinition',\n  CreateWorkspaces = 'CreateWorkspaces',\n  CustomizeApplication = 'CustomizeApplication',\n  DataExport = 'DataExport',\n  DelegatedTwoFactor = 'DelegatedTwoFactor',\n  DeleteActivatedContract = 'DeleteActivatedContract',\n  DeleteTopics = 'DeleteTopics',\n  DistributeFromPersWksp = 'DistributeFromPersWksp',\n  EditActivatedOrders = 'EditActivatedOrders',\n  EditBrandTemplates = 'EditBrandTemplates',\n  EditCaseComments = 'EditCaseComments',\n  EditEvent = 'EditEvent',\n  EditHtmlTemplates = 'EditHtmlTemplates',\n  EditMyDashboards = 'EditMyDashboards',\n  EditMyReports = 'EditMyReports',\n  EditOppLineItemUnitPrice = 'EditOppLineItemUnitPrice',\n  EditPublicDocuments = 'EditPublicDocuments',\n  EditPublicFilters = 'EditPublicFilters',\n  EditPublicTemplates = 'EditPublicTemplates',\n  EditReadonlyFields = 'EditReadonlyFields',\n  EditTask = 'EditTask',\n  EditTopics = 'EditTopics',\n  EmailMass = 'EmailMass',\n  EmailSingle = 'EmailSingle',\n  EnableNotifications = 'EnableNotifications',\n  ExportReport = 'ExportReport',\n  GiveRecognitionBadge = 'GiveRecognitionBadge',\n  ImportCustomObjects = 'ImportCustomObjects',\n  ImportLeads = 'ImportLeads',\n  ImportPersonal = 'ImportPersonal',\n  InboundMigrationToolsUser = 'InboundMigrationToolsUser',\n  InstallPackaging = 'InstallPackaging',\n  LightningConsoleAllowedForUser = 'LightningConsoleAllowedForUser',\n  LightningExperienceUser = 'LightningExperienceUser',\n  ListEmailSend = 'ListEmailSend',\n  ManageAnalyticSnapshots = 'ManageAnalyticSnapshots',\n  ManageAuthProviders = 'ManageAuthProviders',\n  ManageBusinessHourHolidays = 'ManageBusinessHourHolidays',\n  ManageCallCenters = 'ManageCallCenters',\n  ManageCases = 'ManageCases',\n  ManageCategories = 'ManageCategories',\n  ManageCertificates = 'ManageCertificates',\n  ManageContentPermissions = 'ManageContentPermissions',\n  ManageContentProperties = 'ManageContentProperties',\n  ManageContentTypes = 'ManageContentTypes',\n  ManageCssUsers = 'ManageCssUsers',\n  ManageCustomPermissions = 'ManageCustomPermissions',\n  ManageCustomReportTypes = 'ManageCustomReportTypes',\n  ManageDashbdsInPubFolders = 'ManageDashbdsInPubFolders',\n  ManageDataCategories = 'ManageDataCategories',\n  ManageDataIntegrations = 'ManageDataIntegrations',\n  ManageDynamicDashboards = 'ManageDynamicDashboards',\n  ManageEmailClientConfig = 'ManageEmailClientConfig',\n  ManageExchangeConfig = 'ManageExchangeConfig',\n  ManageHealthCheck = 'ManageHealthCheck',\n  ManageInteraction = 'ManageInteraction',\n  ManageInternalUsers = 'ManageInternalUsers',\n  ManageIpAddresses = 'ManageIpAddresses',\n  ManageLeads = 'ManageLeads',\n  ManageLoginAccessPolicies = 'ManageLoginAccessPolicies',\n  ManageMobile = 'ManageMobile',\n  ManageNetworks = 'ManageNetworks',\n  ManagePackageLicenses = 'ManagePackageLicenses',\n  ManagePartners = 'ManagePartners',\n  ManagePasswordPolicies = 'ManagePasswordPolicies',\n  ManageProfilesPermissionsets = 'ManageProfilesPermissionsets',\n  ManagePvtRptsAndDashbds = 'ManagePvtRptsAndDashbds',\n  ManageQuotas = 'ManageQuotas',\n  ManageRemoteAccess = 'ManageRemoteAccess',\n  ManageReportsInPubFolders = 'ManageReportsInPubFolders',\n  ManageRoles = 'ManageRoles',\n  ManageSharing = 'ManageSharing',\n  ManageSolutions = 'ManageSolutions',\n  ManageSynonyms = 'ManageSynonyms',\n  ManageTranslation = 'ManageTranslation',\n  ManageUnlistedGroups = 'ManageUnlistedGroups',\n  ManageUsers = 'ManageUsers',\n  MergeTopics = 'MergeTopics',\n  ModerateChatter = 'ModerateChatter',\n  ModifyAllData = 'ModifyAllData',\n  ModifyMetadata = 'ModifyMetadata',\n  NewReportBuilder = 'NewReportBuilder',\n  OutboundMigrationToolsUser = 'OutboundMigrationToolsUser',\n  OverrideForecasts = 'OverrideForecasts',\n  Packaging2 = 'Packaging2',\n  PublishPackaging = 'PublishPackaging',\n  RemoveDirectMessageMembers = 'RemoveDirectMessageMembers',\n  ResetPasswords = 'ResetPasswords',\n  RunFlow = 'RunFlow',\n  RunReports = 'RunReports',\n  ScheduleJob = 'ScheduleJob',\n  ScheduleReports = 'ScheduleReports',\n  SelectFilesFromSalesforce = 'SelectFilesFromSalesforce',\n  SendSitRequests = 'SendSitRequests',\n  ShowCompanyNameAsUserBadge = 'ShowCompanyNameAsUserBadge',\n  SolutionImport = 'SolutionImport',\n  SubmitMacrosAllowed = 'SubmitMacrosAllowed',\n  SubscribeDashboardToOtherUsers = 'SubscribeDashboardToOtherUsers',\n  SubscribeReportToOtherUsers = 'SubscribeReportToOtherUsers',\n  SubscribeReportsRunAsUser = 'SubscribeReportsRunAsUser',\n  SubscribeToLightningDashboards = 'SubscribeToLightningDashboards',\n  SubscribeToLightningReports = 'SubscribeToLightningReports',\n  TransactionalEmailSend = 'TransactionalEmailSend',\n  TransferAnyCase = 'TransferAnyCase',\n  TransferAnyEntity = 'TransferAnyEntity',\n  TransferAnyLead = 'TransferAnyLead',\n  UpdateWithInactiveOwner = 'UpdateWithInactiveOwner',\n  UseTeamReassignWizards = 'UseTeamReassignWizards',\n  UseWebLink = 'UseWebLink',\n  ViewAllData = 'ViewAllData',\n  ViewAllForecasts = 'ViewAllForecasts',\n  ViewAllUsers = 'ViewAllUsers',\n  ViewDataAssessment = 'ViewDataAssessment',\n  ViewDataCategories = 'ViewDataCategories',\n  ViewEventLogFiles = 'ViewEventLogFiles',\n  ViewHealthCheck = 'ViewHealthCheck',\n  ViewHelpLink = 'ViewHelpLink',\n  ViewMyTeamsDashboards = 'ViewMyTeamsDashboards',\n  ViewPublicDashboards = 'ViewPublicDashboards',\n  ViewPublicReports = 'ViewPublicReports',\n  ViewRoles = 'ViewRoles',\n  ViewSetup = 'ViewSetup'\n}\n\nexport default ProfileUserPermission","import SObjectFile from './structures/SObjectFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as xml2js from 'xml2js'\nimport { parseBooleans } from 'xml2js/lib/processors'\nimport { PathLike } from \"fs\"\n\nexport default {\n\n  getObjectsFromMetaData: function (): SObjectFile[] {\n    const p = path.join(vscode.workspace.rootPath as string, 'src', 'objects')\n    const files = fs.readdirSync(p)\n    if (files.length === 0) { throw Error('No SObject definition file was found in folder ' + p) }\n    return this.generateSObjectDefinitions(files, p)\n  },\n\n  generateSObjectDefinitions: function (fileNames: string[], path: fs.PathLike): SObjectFile[] {\n    return fileNames.map(filename => new SObjectFile(filename, path))\n  },\n\n  readSObjectDefinitionFile: async function (objDef: SObjectFile): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n      const filePath = path.join(objDef.folder.toString(), objDef.fileName)\n      const fileContent = fs.readFileSync(filePath, { encoding: 'utf-8' })\n      const xmlParser = new xml2js.Parser({ explicitArray: false, valueProcessors: [parseBooleans] })\n      try {\n        const parsedFile: any = await new Promise((resolve, reject) => {\n          xmlParser.parseString(fileContent, (err: any, result: any) => {\n            if (err) { reject(err) }\n            else { resolve(result) }\n          })\n        })\n        resolve(parsedFile)\n      } catch (err) {\n        reject(err)\n      }\n    })\n  },\n\n  writeSObjectDefinitionFile: function (fileNamePath: PathLike, stuffToWrite: any) {\n    const builder = new xml2js.Builder({ xmldec: { standalone: undefined, encoding: 'UTF-8', version: '1.0' } })\n    //Probably there's a bug in the builder class\n    const xml = builder.buildObject(stuffToWrite)\n    //130 is the number of characters of the first two lines containing header + root object definition\n    let escaped = xml.substr(0, 130) + xml.substr(130, xml.length - 130).replace(/\"/g, '&quot;').replace(/'/g, '&apos;')\n    fs.writeFileSync(fileNamePath.toString(), escaped, 'utf8')\n  }\n}","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute;\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.options = parent.options;\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.set(options).attribute(this);\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.noDoubleEncoding = options.noDoubleEncoding;\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return val = '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var res;\n      res = str.match(/[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/);\n      if (res) {\n        throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLWriterBase,\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, ref1, ref2, ref3, ref4, ref5, ref6, value;\n      options || (options = {});\n      this.pretty = options.pretty || false;\n      this.allowEmpty = (ref = options.allowEmpty) != null ? ref : false;\n      if (this.pretty) {\n        this.indent = (ref1 = options.indent) != null ? ref1 : '  ';\n        this.newline = (ref2 = options.newline) != null ? ref2 : '\\n';\n        this.offset = (ref3 = options.offset) != null ? ref3 : 0;\n        this.dontprettytextnodes = (ref4 = options.dontprettytextnodes) != null ? ref4 : 0;\n      } else {\n        this.indent = '';\n        this.newline = '';\n        this.offset = 0;\n        this.dontprettytextnodes = 0;\n      }\n      this.spacebeforeslash = (ref5 = options.spacebeforeslash) != null ? ref5 : '';\n      if (this.spacebeforeslash === true) {\n        this.spacebeforeslash = ' ';\n      }\n      this.newlinedefault = this.newline;\n      this.prettydefault = this.pretty;\n      ref6 = options.writer || {};\n      for (key in ref6) {\n        if (!hasProp.call(ref6, key)) continue;\n        value = ref6[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.set = function(options) {\n      var key, ref, value;\n      options || (options = {});\n      if (\"pretty\" in options) {\n        this.pretty = options.pretty;\n      }\n      if (\"allowEmpty\" in options) {\n        this.allowEmpty = options.allowEmpty;\n      }\n      if (this.pretty) {\n        this.indent = \"indent\" in options ? options.indent : '  ';\n        this.newline = \"newline\" in options ? options.newline : '\\n';\n        this.offset = \"offset\" in options ? options.offset : 0;\n        this.dontprettytextnodes = \"dontprettytextnodes\" in options ? options.dontprettytextnodes : 0;\n      } else {\n        this.indent = '';\n        this.newline = '';\n        this.offset = 0;\n        this.dontprettytextnodes = 0;\n      }\n      this.spacebeforeslash = \"spacebeforeslash\" in options ? options.spacebeforeslash : '';\n      if (this.spacebeforeslash === true) {\n        this.spacebeforeslash = ' ';\n      }\n      this.newlinedefault = this.newline;\n      this.prettydefault = this.pretty;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n      return this;\n    };\n\n    XMLWriterBase.prototype.space = function(level) {\n      var indent;\n      if (this.pretty) {\n        indent = (level || 0) + this.offset + 1;\n        if (indent > 0) {\n          return new Array(indent).join(this.indent);\n        } else {\n          return '';\n        }\n      } else {\n        return '';\n      }\n    };\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","module.exports = require(\"stream\");","module.exports = require(\"events\");","export default {\n  sortItemsByField: (a: any, b: any, fieldName: string) => {\n    if (a[fieldName] > b[fieldName]) { return 1 }\n    else if (a[fieldName] < b[fieldName]) { return -1 }\n    return 0\n  }\n}","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","module.exports = require(\"module\");","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"zlib\");","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","'use strict'\n// The module 'vscode' contains the VS Code extensibility API\n// Import the module and reference it with the alias vscode in your code below\nimport * as vscode from 'vscode'\nimport cmd from './commands'\nimport ConfigManager from './config/config-manager'\nimport Monitor from './monitoring/monitor'\n\n// this method is called when your extension is activated\n// your extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext) {\n\n  console.log('Managing configuration...')\n\n  const cfgMgr = ConfigManager.getInstance()\n\n  // Use the console to output diagnostic information (console.log) and errors (console.error)\n  // This line of code will only be executed once when your extension is activated\n\n  // The command has been defined in the package.json file\n  // Now provide the implementation of the command with registerCommand\n  // The commandId parameter must match the command field in package.json\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.createField', cmd.createField))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureDefaultFieldsProfiles', cmd.configureDefaultFieldsProfiles))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesApexClasses', cmd.configureProfilesApexClasses))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesApexPages', cmd.configureProfilesApexPages))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesUserPermissions', cmd.configureProfilesUserPermissions))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureCrossProfileUserPermission', cmd.configureCrossProfileUserPermission))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesFLS', cmd.configureProfilesFLS))\n\n\n  vscode.commands.executeCommand('setContext', 'swift-sfdc-active', true)\n\n  Monitor.getInstance().init(context)\n\n  Monitor.getInstance().sendEvent('init')\n\n  console.log('Congratulations, your extension \"swift-sfdc\" is now active!')\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() { \n  Monitor.getInstance().dispose()\n }\n","import createField from './create-field'\nimport configureDefaultFieldsProfiles from './configure-default-fields-profiles'\nimport configureProfilesApexClasses from './configure-profiles-apex-classes'\nimport configureProfilesApexPages from './configure-profiles-apex-pages'\nimport configureProfilesUserPermissions from './configure-profiles-user-permissions'\nimport configureCrossProfileUserPermission from './configure-cross-profile-user-permission'\nimport configureProfilesFLS from './configure-profiles-fls'\n\nexport default {\n  createField,\n  configureDefaultFieldsProfiles,\n  configureProfilesApexClasses,\n  configureProfilesApexPages,\n  configureProfilesUserPermissions,\n  configureCrossProfileUserPermission,\n  configureProfilesFLS\n}","import * as vscode from 'vscode'\nimport * as path from 'path'\nimport SObjectFile from './metadatamanagement/sObjects/structures/SObjectFile'\nimport SObjectFieldType from './metadatamanagement/sObjects/structures/SObjectFieldType'\nimport SObjectFieldDefinition from './metadatamanagement/sObjects/structures/SObjectFieldDefinition'\nimport SObjectFieldBuilders from './builders/SObjectFieldBuilders'\nimport sObjFileMgr from './metadatamanagement/sObjects/SObjectFilesManager'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport ConfigManager from '../config/config-manager'\nimport AccessType from './metadatamanagement/profiles/structures/AccessType'\nimport utils from './metadatamanagement/utils'\nimport Prompts from './builders/prompts/Prompts'\nimport { SObjectType } from './metadatamanagement/sObjects/structures/SObjectType'\nimport Monitor from '../monitoring/monitor'\n\n\n// SFDC Metadata types selection\nasync function pickSObjectType(sObjectDefinitions: SObjectFile[]): Promise<SObjectFile | undefined> {\n  const res: SObjectFile | undefined = await vscode.window.showQuickPick(sObjectDefinitions, { ignoreFocusOut: true, placeHolder: 'Select an SObject Type' })\n  return res\n}\n\nasync function fieldCreationWizard(otherFields: SObjectFieldDefinition[], availableSObjectsList: string[]): Promise<SObjectFieldDefinition> {\n  let forbiddenApiNames = otherFields.map(field => field.fullName)\n  return new Promise(async (resolve, reject) => {\n    try {\n      const pickedFieldType = await pickSObjectFieldType()\n      let obj: SObjectFieldDefinition = await SObjectFieldBuilders[pickedFieldType](forbiddenApiNames, availableSObjectsList)\n      resolve(obj)\n    } catch (err) {\n      reject(err)\n    }\n  })\n}\n\nasync function pickSObjectFieldType(): Promise<SObjectFieldType> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(Object.keys(SObjectFieldType).map(el => { return { label: el, value: el } }), { ignoreFocusOut: true, placeHolder: 'Select a Field Type' })\n    res !== undefined ? resolve(res.value) : reject('Field Creation Aborted')\n  })\n}\n\n// Main functionality\nexport default async function createField() {\n  Monitor.getInstance().sendEvent('createField')\n  try {\n    const SObjectFiles = await sObjFileMgr.getObjectsFromMetaData()\n    const pickedSObject: SObjectFile = await Prompts.sObjects.pickOne(SObjectFiles)\n\n    const objectDefinition: any = await sObjFileMgr.readSObjectDefinitionFile(pickedSObject)\n    const sObjectFieldDefinition: SObjectFieldDefinition = await fieldCreationWizard(objectDefinition.CustomObject.fields, SObjectFiles.map(file => file.label))\n\n    objectDefinition.CustomObject.fields.push(sObjectFieldDefinition)\n    objectDefinition.CustomObject.fields.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'fullName'))\n\n    sObjFileMgr.writeSObjectDefinitionFile(path.join(pickedSObject.folder.toString(), pickedSObject.fileName), objectDefinition)\n\n    if (pickedSObject.sObjectType === SObjectType.SObject) {\n      ProfilesFileMgr.updateProfilesVisibilityForField(ConfigManager.getInstance().getConfig().defaultProfiles || [], [{ sObject: pickedSObject, fields: [sObjectFieldDefinition] }], AccessType.edit)\n    }\n\n    vscode.window.showInformationMessage(`Field '${sObjectFieldDefinition.fullName}' was created on SObject ${pickedSObject.label} and enabled as editable for profiles: ${(ConfigManager.getInstance().getConfig().defaultProfiles || []).map(p => p.label)}`)\n\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}","enum SObjectFieldType {\n  Checkbox = 'Checkbox',\n  //Picklist = 'Picklist',\n  Number = 'Number',\n  Email = 'Email',\n  Text = 'Text',\n  Lookup = 'Lookup',\n  LongTextArea = 'LongTextArea',\n  Date = 'Date',\n  //MultiselectPicklist = 'MultiselectPicklist',\n  DateTime = 'DateTime',\n  TextArea = 'TextArea',\n  Phone = 'Phone',\n  //Summary = 'Summary',\n  //Hierarchy = 'Hierarchy',\n  //AutoNumber = 'AutoNumber',\n  //Percent = 'Percent'\n}\n\nexport default SObjectFieldType","import * as SObjectFieldTemplates from '../metadatamanagement/sObjects/structures/SObjectFieldTemplates'\nimport Prompt from './prompts/Prompts'\n\nasync function checkboxBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Checkbox> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let defaultValue: any = await Prompt.fields.defaultValue([{ label: 'False', value: false }, { label: 'True', value: true }])\n      resolve(new SObjectFieldTemplates.Checkbox(apiName, label, required, defaultValue))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function textBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Text> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let length: string = await Prompt.fields.stringLength(1, 255, 255)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Text(apiName, label, externalId, required, length, unique))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function emailBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Email> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Email(apiName, label, externalId, required, unique))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function dateBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Date> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.Date(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function datetimeBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.DateTime> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.DateTime(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function phoneBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Phone> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.Phone(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function textAreaBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.TextArea> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = false\n      resolve(new SObjectFieldTemplates.TextArea(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function longTextAreaBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.LongTextArea> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let length: string = await Prompt.fields.stringLength(256, 131072, 32768)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = false\n      resolve(new SObjectFieldTemplates.LongTextArea(apiName, label, externalId, required, length))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function numberBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Number> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let [precision, scale] = await Prompt.fields.precisionAndScale()\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Number(apiName, label, externalId, required, unique, precision, scale))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function lookupBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Lookup> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let referenceTo: string = await Prompt.fields.lookupTarget(availableSObjectsList)\n      let relationshipLabel = await Prompt.fields.relationshipLabel()\n      let relationshipName = await Prompt.fields.relationshipApiName(relationshipLabel)\n      resolve(new SObjectFieldTemplates.Lookup(apiName, label, required, referenceTo, relationshipLabel, relationshipName))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\n\nexport default { Checkbox: checkboxBuilder, Text: textBuilder, Email: emailBuilder, Date: dateBuilder, DateTime: datetimeBuilder, Phone: phoneBuilder, TextArea: textAreaBuilder, LongTextArea: longTextAreaBuilder, Number: numberBuilder, Lookup: lookupBuilder }","import Text from './field-templates/Text'\nimport Checkbox from './field-templates/Checkbox'\nimport Email from './field-templates/Email'\nimport Date from './field-templates/Date'\nimport DateTime from './field-templates/Date'\nimport Phone from './field-templates/Phone'\nimport TextArea from './field-templates/TextArea'\nimport LongTextArea from './field-templates/LongTextArea'\nimport Number from './field-templates/Number'\nimport Lookup from './field-templates/Lookup'\n\nexport { Checkbox, Text, Email, Date, DateTime, Phone, TextArea, LongTextArea, Number, Lookup }","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Text implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n  length: string\n  unique: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, length: string, unique: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = true\n    }\n    this.label = label\n    this.type = 'Text'\n    this.required = required\n    this.length = length\n    this.unique = unique\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Checkbox implements SObjectFieldDefinition {\n  fullName: string\n  defaultValue: boolean\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, required: boolean, defaultValue: boolean) {\n    this.fullName = fullName\n    this.externalId = false\n    this.label = label\n    this.type = 'Checkbox'\n    this.required = required\n    this.defaultValue = defaultValue\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Email implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n  unique: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, unique: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = false\n    }\n    this.label = label\n    this.type = 'Email'\n    this.required = required\n    this.unique = unique\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Phone implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = true\n    }\n    this.label = label\n    this.type = 'Phone'\n    this.required = required\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class TextArea implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'TextArea'\n    this.required = required\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class LongTextArea implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  length: string\n  visibleLines: string\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, length: string) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'LongTextArea'\n    this.required = required\n    this.length = length\n    this.visibleLines = '3'\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Number implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  unique: boolean\n  precision: number\n  scale: number\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, unique: boolean, precision: number, scale: number) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'Number'\n    this.required = required\n    this.unique = unique\n    this.precision = precision\n    this.scale = scale\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Lookup implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  deleteConstraint: string\n  referenceTo: string\n  relationshipLabel: string\n  relationshipName: string\n\n  constructor(fullName: string, label: string, required: boolean, referenceTo: string, relationshipLabel: string, relationshipName: string) {\n    this.fullName = fullName\n    this.externalId = false\n    this.label = label\n    this.type = 'Lookup'\n    this.required = required\n    this.deleteConstraint = 'setNull'\n    this.referenceTo = referenceTo\n    this.relationshipLabel = relationshipLabel\n    this.relationshipName = relationshipName\n\n  }\n}","import * as vscode from 'vscode'\n\nasync function promptForFieldLabel(): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const fieldName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Label',\n            validateInput: (value: string): string | undefined => {\n                return value.length > 40 || value.length < 1 ? 'Field Labels cannot exceed 40 characters' : undefined\n            }\n        })\n        fieldName ? resolve(fieldName) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRequiredField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const required = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field Required?' })\n        required ? resolve(required.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForFieldApiName(label: string, forbiddenApiNames: string[]): Promise<string> {\n    //Removing spaces and accented characters and appending __c\n    const escaped = label.normalize('NFD').replace(/[\\u0300-\\u036f]|\\s*/g, '') + '__c'\n\n    return new Promise(async (resolve, reject) => {\n        const fieldName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field ApiName',\n            value: escaped,\n            valueSelection: [0, escaped.length - 3],\n            prompt: 'Only normal letters and underscores are allowed. Must end with \\'__c\\'',\n            validateInput: (value: string): string | undefined => {\n                if (!(/^[[a-zA-Z0-9_]{3,40}(?<!_)__c$/.test(value))) { return 'Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores (\\'_\\') and terminate with \\'__c\\'.' }\n                if (forbiddenApiNames.indexOf(value) !== -1) { return 'Another Field with the same Api Name already exists on the object.' }\n                return undefined\n            }\n        })\n        fieldName ? resolve(fieldName) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForStringLength(minLength: number, maxLength: number, defaultValue: number): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const regex = new RegExp(`^[0-9]{${minLength.toString().length},${maxLength.toString().length}}$`)\n        const fieldLength: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Maximum Length',\n            value: defaultValue.toString(),\n            valueSelection: [0, defaultValue.toString().length],\n            prompt: `Insert a number between ${minLength} and ${maxLength}`,\n            validateInput: (value: string): string | undefined => {\n                if (!(regex.test(value)) || Number(value) > maxLength || Number(value) < minLength) { return `Only a number between ${minLength} and ${maxLength} is allowed.` }\n                return undefined\n            }\n        })\n        fieldLength ? resolve(fieldLength) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForExternalIdField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const isExternalId = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field an External ID?' })\n        isExternalId ? resolve(isExternalId.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForUniqueField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const isUnique = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field Unique?' })\n        isUnique ? resolve(isUnique.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForDefaultValue(possibleValues: any[]): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n        const defaultValue = await vscode.window.showQuickPick(possibleValues, { ignoreFocusOut: true, placeHolder: 'What\\s the default value of the field?' })\n        defaultValue ? resolve(defaultValue.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForPrecisionAndScale(): Promise<[number, number]> {\n    return new Promise(async (resolve, reject) => {\n        const regex = new RegExp(`^[0-9]{1,2},[0-9]{1,2}$`)\n        const precisionAndScale: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Precision and Scale, separated by comma',\n            value: '18,0',\n            valueSelection: [0, 2],\n            prompt: 'Format is: [Number of digits to the left of the decimal point],[Number of digits to the right of the decimal point]',\n            validateInput: (value: string): string | undefined => {\n                let [precision, scale] = value.split(',')\n                if (!(regex.test(value)) || Number(precision) + Number(scale) > 18) { return 'Up to 18 digits are allowed, divided amongst digits to the left of the decimal point and digits to its right, in the format [digits to the left],[digits to the right]. i.e: 16,2' }\n                return undefined\n            }\n        })\n        if (precisionAndScale) {\n            let [precision, scale] = precisionAndScale.split(',')\n            resolve([Number(precision), Number(scale)])\n        } else {\n            reject('Field Creation Aborted')\n        }\n    })\n}\n\nasync function promptForLookupTarget(availableSObjectsList: string[]): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const pickedSObj = await vscode.window.showQuickPick(availableSObjectsList.map(obj => {\n            return { label: obj, value: obj }\n        }), { ignoreFocusOut: true, placeHolder: 'Relationship target SObject?' })\n        pickedSObj ? resolve(pickedSObj.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRelationshipLabel(): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const relLabel: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Child Relationship Label',\n            validateInput: (value: string): string | undefined => {\n                return value.length > 40 || value.length < 1 ? 'Child Relationship Label cannot exceed 40 characters' : undefined\n            }\n        })\n        relLabel ? resolve(relLabel) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRelationshipApiName(label: string): Promise<string> {\n    const escaped = label.normalize('NFD').replace(/[\\u0300-\\u036f]|\\s*/g, '')\n\n    return new Promise(async (resolve, reject) => {\n        const relApiName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Child Relationship Api Name',\n            value: escaped,\n            valueSelection: [0, escaped.length - 1],\n            prompt: 'Only normal letters and underscores are allowed.',\n            validateInput: (value: string): string | undefined => {\n                if (!(/^[[a-zA-Z0-9_]{3,40}(?<!_)$/.test(value))) { return 'Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores (\\'_\\') and cannot exceed 40 characters' }\n                return undefined\n            }\n        })\n        relApiName ? resolve(relApiName) : reject('Field Creation Aborted')\n    })\n}\n\nexport default {\n    defaultValue: promptForDefaultValue,\n    isUnique: promptForUniqueField,\n    isExternalId: promptForExternalIdField,\n    stringLength: promptForStringLength,\n    apiName: promptForFieldApiName,\n    isRequired: promptForRequiredField,\n    label: promptForFieldLabel,\n    precisionAndScale: promptForPrecisionAndScale,\n    lookupTarget: promptForLookupTarget,\n    relationshipLabel: promptForRelationshipLabel,\n    relationshipApiName: promptForRelationshipApiName\n}","import * as vscode from 'vscode'\nimport ProfileFile from '../../../metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileUserPermission from '../../../metadatamanagement/profiles/structures/ProfileUserPermission'\n\nasync function pickOne(profiles: ProfileFile[]): Promise<ProfileFile> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(profiles, { ignoreFocusOut: true, placeHolder: 'Select the Profile you want to define Apex Class Access' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nasync function pickMany(profiles: ProfileFile[], preselected: string[] = []): Promise<ProfileFile[]> {\n  let selected: string[] = preselected || []\n\n  const profilesOptions = profiles.map(prof => {\n    return { ...prof, picked: selected.includes(prof.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(profilesOptions, { ignoreFocusOut: true, placeHolder: 'Select all Profiles you want to add fields visibility after creation by default.', canPickMany: true })\n    if (res !== undefined) {\n      res.forEach((element: { picked: boolean }) => {\n        delete element.picked\n      })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nasync function pickUserPermission(): Promise<string> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(Object.keys(ProfileUserPermission), { ignoreFocusOut: true, placeHolder: 'Select the User Permission you want to check on all profiles' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('User Permission choice Aborted')\n    }\n  })\n}\n\nexport default {\n  pickOne,\n  pickMany,\n  pickUserPermission\n}","import * as vscode from 'vscode'\nimport SObjectFile from \"../../../metadatamanagement/sObjects/structures/SObjectFile\"\n\nasync function pickSObjectType(sObjectDefinitions: SObjectFile[]): Promise<SObjectFile> {\n\n  return new Promise(async (resolve, reject) => {\n    const res: SObjectFile | undefined = await vscode.window.showQuickPick(sObjectDefinitions, { ignoreFocusOut: true, placeHolder: 'Select an SObject Type' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('SObject Selection Aborted')\n    }\n  })\n}\n\nexport default {\n  pickOne: pickSObjectType\n}","import { PathLike } from \"fs\"\nimport { SObjectType } from \"./SObjectType\"\n\nclass SObjectFile {\n  label: string\n  fileName: string\n  folder: PathLike\n  extension: string\n  sObjectType: SObjectType\n  constructor(fileName: string, folder: PathLike) {\n    this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n    this.fileName = fileName //filename, e.g.: Account.object\n    this.folder = folder //Should be src/objects\n    this.extension = fileName.split('.')[1] //Should be .object for salefsorce sobject metadata definition files\n    this.sObjectType = this.label.endsWith('__mdt') ? SObjectType.CustomMetadata : SObjectType.SObject\n  }\n}\n\nexport default SObjectFile","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.doctype(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLNode = require('./XMLNode');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      this.isDocument = true;\n    }\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer.set(writerOptions);\n      }\n      return writer.document(this);\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.set(options).document(this);\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject;\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter(options);\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter(writerOptions);\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node\");\n      }\n      this.openCurrent();\n      name = name.valueOf();\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.dtdElement.apply(this, arguments);\n      } else {\n        return this.node(name, attributes, text);\n      }\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode\");\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.currentNode.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.currentLevel + 1));\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node instanceof XMLElement) {\n          this.root = node;\n        }\n        this.onData(this.writer.openNode(node, this.currentLevel));\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      if (!node.isClosed) {\n        this.onData(this.writer.closeNode(node, this.currentLevel));\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStreamWriter, XMLText, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      XMLStreamWriter.__super__.constructor.call(this, options);\n      this.stream = stream;\n    }\n\n    XMLStreamWriter.prototype.document = function(doc) {\n      var child, i, j, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        child.isLastRootNode = false;\n      }\n      doc.children[doc.children.length - 1].isLastRootNode = true;\n      ref1 = doc.children;\n      results = [];\n      for (j = 0, len1 = ref1.length; j < len1; j++) {\n        child = ref1[j];\n        switch (false) {\n          case !(child instanceof XMLDeclaration):\n            results.push(this.declaration(child));\n            break;\n          case !(child instanceof XMLDocType):\n            results.push(this.docType(child));\n            break;\n          case !(child instanceof XMLComment):\n            results.push(this.comment(child));\n            break;\n          case !(child instanceof XMLProcessingInstruction):\n            results.push(this.processingInstruction(child));\n            break;\n          default:\n            results.push(this.element(child));\n        }\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att) {\n      return this.stream.write(' ' + att.name + '=\"' + att.value + '\"');\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, level) {\n      return this.stream.write(this.space(level) + '<![CDATA[' + node.text + ']]>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, level) {\n      return this.stream.write(this.space(level) + '<!-- ' + node.text + ' -->' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, level) {\n      this.stream.write(this.space(level));\n      this.stream.write('<?xml version=\"' + node.version + '\"');\n      if (node.encoding != null) {\n        this.stream.write(' encoding=\"' + node.encoding + '\"');\n      }\n      if (node.standalone != null) {\n        this.stream.write(' standalone=\"' + node.standalone + '\"');\n      }\n      this.stream.write(this.spacebeforeslash + '?>');\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, level) {\n      var child, i, len, ref;\n      level || (level = 0);\n      this.stream.write(this.space(level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node));\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          switch (false) {\n            case !(child instanceof XMLDTDAttList):\n              this.dtdAttList(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDElement):\n              this.dtdElement(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDEntity):\n              this.dtdEntity(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDNotation):\n              this.dtdNotation(child, level + 1);\n              break;\n            case !(child instanceof XMLCData):\n              this.cdata(child, level + 1);\n              break;\n            case !(child instanceof XMLComment):\n              this.comment(child, level + 1);\n              break;\n            case !(child instanceof XMLProcessingInstruction):\n              this.processingInstruction(child, level + 1);\n              break;\n            default:\n              throw new Error(\"Unknown DTD node type: \" + child.constructor.name);\n          }\n        }\n        this.stream.write(']');\n      }\n      this.stream.write(this.spacebeforeslash + '>');\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.element = function(node, level) {\n      var att, child, i, len, name, ref, ref1, space;\n      level || (level = 0);\n      space = this.space(level);\n      this.stream.write(space + '<' + node.name);\n      ref = node.attributes;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att);\n      }\n      if (node.children.length === 0 || node.children.every(function(e) {\n        return e.value === '';\n      })) {\n        if (this.allowEmpty) {\n          this.stream.write('></' + node.name + '>');\n        } else {\n          this.stream.write(this.spacebeforeslash + '/>');\n        }\n      } else if (this.pretty && node.children.length === 1 && (node.children[0].value != null)) {\n        this.stream.write('>');\n        this.stream.write(node.children[0].value);\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.newline);\n        ref1 = node.children;\n        for (i = 0, len = ref1.length; i < len; i++) {\n          child = ref1[i];\n          switch (false) {\n            case !(child instanceof XMLCData):\n              this.cdata(child, level + 1);\n              break;\n            case !(child instanceof XMLComment):\n              this.comment(child, level + 1);\n              break;\n            case !(child instanceof XMLElement):\n              this.element(child, level + 1);\n              break;\n            case !(child instanceof XMLRaw):\n              this.raw(child, level + 1);\n              break;\n            case !(child instanceof XMLText):\n              this.text(child, level + 1);\n              break;\n            case !(child instanceof XMLProcessingInstruction):\n              this.processingInstruction(child, level + 1);\n              break;\n            default:\n              throw new Error(\"Unknown XML node type: \" + child.constructor.name);\n          }\n        }\n        this.stream.write(space + '</' + node.name + '>');\n      }\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, level) {\n      this.stream.write(this.space(level) + '<?' + node.target);\n      if (node.value) {\n        this.stream.write(' ' + node.value);\n      }\n      return this.stream.write(this.spacebeforeslash + '?>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, level) {\n      return this.stream.write(this.space(level) + node.value + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, level) {\n      return this.stream.write(this.space(level) + node.value + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, level) {\n      this.stream.write(this.space(level) + '<!ATTLIST ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType);\n      if (node.defaultValueType !== '#DEFAULT') {\n        this.stream.write(' ' + node.defaultValueType);\n      }\n      if (node.defaultValue) {\n        this.stream.write(' \"' + node.defaultValue + '\"');\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, level) {\n      this.stream.write(this.space(level) + '<!ELEMENT ' + node.name + ' ' + node.value);\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, level) {\n      this.stream.write(this.space(level) + '<!ENTITY');\n      if (node.pe) {\n        this.stream.write(' %');\n      }\n      this.stream.write(' ' + node.name);\n      if (node.value) {\n        this.stream.write(' \"' + node.value + '\"');\n      } else {\n        if (node.pubID && node.sysID) {\n          this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n        } else if (node.sysID) {\n          this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n        }\n        if (node.nData) {\n          this.stream.write(' NDATA ' + node.nData);\n        }\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, level) {\n      this.stream.write(this.space(level) + '<!NOTATION ' + node.name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.pubID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.endline = function(node) {\n      if (!node.isLastRootNode) {\n        return this.newline;\n      } else {\n        return '';\n      }\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","module.exports = require(\"string_decoder\");","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","import { PathLike } from \"fs\"\n\nclass ProfileFile {\n  label: string\n  fileName: string\n  folder: PathLike\n  extension: string\n\n  constructor(fileName: string, folder: PathLike) {\n    this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the profiles\n    this.fileName = fileName //filename, e.g.: Account.profile\n    this.folder = folder //Should be src/profiles\n    this.extension = fileName.split('.')[1] //Should be .profile for salefsorce sobject metadata definition files\n  }\n}\n\nexport default ProfileFile","import ProfileFile from \"../commands/metadatamanagement/profiles/structures/ProfileFile\"\n\nexport default class SwiftSfdcConfiguration {\n  defaultProfiles: ProfileFile[] | undefined = undefined\n  constructor() {\n  }\n}","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\r\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.configListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"console\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 114;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 115;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","module.exports = require(\"async_hooks\");","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","module.exports = require(\"net\");","module.exports = require(\"dns\");","module.exports = require(\"crypto\");","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map","import ConfigManager from '../config/config-manager'\nimport * as vscode from 'vscode'\nimport ProfileFile from './metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nexport default async function configureDefaultFieldsProfiles() {\n  Monitor.getInstance().sendEvent('configureDefaultFieldsProfiles')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    let preselected: string[] = []\n\n    if (ConfigManager.getInstance().getConfig().defaultProfiles !== undefined) {\n      let stored = ConfigManager.getInstance().getConfig().defaultProfiles || []\n      preselected = stored.map(el => el.label)\n    }\n    const selectedProfiles = await Prompts.profiles.pickMany(profiles, preselected)\n    ConfigManager.getInstance().getConfig().defaultProfiles = selectedProfiles\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ApexClassesFileManager from './metadatamanagement/apexClasses/apexClassesFileManager'\nimport ApexClassFile from './metadatamanagement/apexClasses/structures/ApexClassFile'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureClassAccessForProfile(profile: string, classes: ApexClassFile[], preselectedClasses: string[]): Promise<any> {\n\n  const classesOptions = classes.map(cls => {\n    return { ...cls, picked: preselectedClasses.includes(cls.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(classesOptions, { ignoreFocusOut: true, placeHolder: `Select all Apex Classes you want to add access to profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nexport default async function configureProfilesApexClasses() {\n  Monitor.getInstance().sendEvent('configureProfilesApexClasses')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const availableApexClasses = await ApexClassesFileManager.getObjectsFromMetaData()\n    const selectedApexClasses = await configureClassAccessForProfile(selectedProfile.label, availableApexClasses, unpackedProfile.Profile.classAccesses.filter((cls: { enabled: any; }) => cls.enabled).map((classAccess: { apexClass: any }) => classAccess.apexClass))\n    const selectedApexClassesNames = selectedApexClasses.map((cls: { label: any }) => cls.label)\n    ProfilesFileMgr.updateProfilesApexClassesAccess(selectedProfile, selectedApexClassesNames)\n    vscode.window.showInformationMessage(`Updated classes access on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}","import ApexClassFile from './structures/ApexClassFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport { PathLike } from \"fs\"\n\nexport default {\n\n    getObjectsFromMetaData: function (): ApexClassFile[] {\n        const p = path.join(vscode.workspace.rootPath as string, 'src', 'classes')\n        const files = fs.readdirSync(p)\n        if (files.length === 0) { throw Error('No Apex Class definition file was found in folder ' + p) }\n        return this.generateSObjectDefinitions(files, p)\n    },\n\n    generateSObjectDefinitions: function (fileNames: string[], path: PathLike): ApexClassFile[] {\n        return fileNames.filter(el => el.endsWith('.cls')).map(filename => new ApexClassFile(filename, path))\n    }\n}","import { PathLike } from \"fs\"\n\nclass ApexClassFile {\n    label: string\n    fileName: string\n    folder: PathLike\n    extension: string\n    constructor(fileName: string, folder: PathLike) {\n        this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n        this.fileName = fileName //filename, e.g.: Account.object\n        this.folder = folder //Should be src/objects\n        this.extension = fileName.split('.')[1] //Should be .cls for salefsorce sobject metadata definition files\n    }\n}\n\nexport default ApexClassFile","import * as vscode from 'vscode'\nimport ProfileFile from './metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ApexPagesFileManager from './metadatamanagement/apexPages/apexPagesFileManager'\nimport ApexPageFile from './metadatamanagement/apexPages/structures/ApexPageFile'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureClassAccessForProfile(profile: string, classes: ApexPageFile[], preselectedPages: string[]): Promise<any> {\n\n  const pagesOptions = classes.map(cls => {\n    return { ...cls, picked: preselectedPages.includes(cls.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(pagesOptions, { ignoreFocusOut: true, placeHolder: `Select all Apex Classes you want to add access to profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nexport default async function configureProfilesApexPages() {\n  Monitor.getInstance().sendEvent('configureProfilesApexPages')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const availableApexPages = await ApexPagesFileManager.getObjectsFromMetaData()\n    const selectedApexPages = await configureClassAccessForProfile(selectedProfile.label, availableApexPages, unpackedProfile.Profile.pageAccesses.filter((cls: { enabled: any; }) => cls.enabled).map((pageAccess: { apexPage: any }) => pageAccess.apexPage))\n    const selectedApexPagesNames = selectedApexPages.map((page: { label: any }) => page.label)\n    ProfilesFileMgr.updateProfilesApexPagesAccess(selectedProfile, selectedApexPagesNames)\n    vscode.window.showInformationMessage(`Updated Visualforce pages access on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}","import ApexPageFile from './structures/ApexPageFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport { PathLike } from \"fs\"\n\nexport default {\n\n    getObjectsFromMetaData: function (): ApexPageFile[] {\n        const p = path.join(vscode.workspace.rootPath as string, 'src', 'pages')\n        const files = fs.readdirSync(p)\n        if (files.length === 0) { throw Error('No Visualforce Page definition file was found in folder ' + p) }\n        return this.generateSObjectDefinitions(files, p)\n    },\n\n    generateSObjectDefinitions: function (fileNames: string[], path: PathLike): ApexPageFile[] {\n        return fileNames.filter(el => el.endsWith('.page')).map(filename => new ApexPageFile(filename, path))\n    }\n}","import { PathLike } from \"fs\"\n\nclass ApexPageFile {\n    label: string\n    fileName: string\n    folder: PathLike\n    extension: string\n    constructor(fileName: string, folder: PathLike) {\n        this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n        this.fileName = fileName //filename, e.g.: Account.object\n        this.folder = folder //Should be src/pages\n        this.extension = fileName.split('.')[1] //Should be .page for salefsorce sobject metadata definition files\n    }\n}\n\nexport default ApexPageFile","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport ProfileUserPermission from './metadatamanagement/profiles/structures/ProfileUserPermission'\nimport UserPermission from './metadatamanagement/profiles/structures/profile-fields-templates/UserPermission'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureUserPermissions(profile: string, userPermissions: string[], preselectedPermissionsMap: any): Promise<any> {\n\n  const permissionOptions = userPermissions.map(perm => {\n    let picked = preselectedPermissionsMap[perm] && preselectedPermissionsMap[perm].enabled\n    let found = !!preselectedPermissionsMap[perm]\n    return { label: perm, picked, description: `(${picked ? 'Enabled on profile' : (found ? 'Disabled on profile' : 'Not in profile')})` }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(permissionOptions, { ignoreFocusOut: true, placeHolder: `Select all user permissions for profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profile User Permission Configuration Aborted')\n    }\n  })\n}\n\n/**\n * The behaviour is: we check the files and pre-select the enabled ones.\n * Then we show the user the entire list and prompt for selection\n * In the end, we turn off all the permissions already contained in the profile metadata file, \n * turning then on the selected ones and adding the missing ones\n * No disabled new permission is added\n */\nexport default async function configureProfilesUserPermissions() {\n  Monitor.getInstance().sendEvent('configureProfilesUserPermissions')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const userPermissions: UserPermission[] = unpackedProfile.Profile.userPermissions\n    const mappedPermissions = userPermissions.reduce((acc: any, current: any) => {\n      acc[current.name] = current\n      return acc\n    }, {})\n\n    const enabledPermissions: string[] = (await configureUserPermissions(selectedProfile.label, Object.keys(ProfileUserPermission), mappedPermissions) || []).map((el: { label: string }) => el.label)\n\n    ProfileFilesManager.updateProfilesUserPermissions(selectedProfile, enabledPermissions)\n\n    vscode.window.showInformationMessage(`Updated user permissions on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport UserPermission from './metadatamanagement/profiles/structures/profile-fields-templates/UserPermission'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureProfilesForPermission(profileMetas: { name: string, meta: any }[], permission: string): Promise<string> {\n\n  const options = profileMetas.map(prof => {\n    let picked = false\n    let found = undefined\n    if (prof.meta.Profile.userPermissions) {\n      found = prof.meta.Profile.userPermissions.find((perm: UserPermission) => {\n        return perm.name === permission\n      })\n      if (found && found.enabled) { picked = true }\n    }\n    return {\n      label: prof.name,\n      picked,\n      description: `(${picked ? 'Enabled on profile' : (found ? 'Disabled on profile' : 'Not in profile')})`\n    }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select all Profiles you want to enable permission ${permission}.`, canPickMany: true })\n    if (res !== undefined) {\n      resolve(res.map((el: { label: any; }) => el.label))\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\n/**\n * The behaviour is: we check the files and pre-select the enabled ones.\n * Then we show the user the entire list and prompt for selection\n * In the end, we turn off all the permissions already contained in the profile metadata file, \n * turning then on the selected ones and adding the missing ones\n * No disabled new permission is added\n */\nexport default async function configureProfilesUserPermission() {\n  Monitor.getInstance().sendEvent('configureProfilesUserPermission')\n  try {\n    const permission = await Prompts.profiles.pickUserPermission()\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n\n    const unpackedProfileMetas = await Promise.all(profiles.map(async prof => {\n      return {\n        name: prof.label,\n        meta: await ProfileFilesManager.readProfileDefinitionFile(prof)\n      }\n    }))\n\n    const selectedProfiles = await configureProfilesForPermission(unpackedProfileMetas, permission)\n\n    await Promise.all(profiles.map(async prof => {\n      await ProfileFilesManager.updateProfileSinglePermission(prof, permission, selectedProfiles.includes(prof.label))\n    }))\n\n    vscode.window.showInformationMessage(`Updated user permissions for ${permission} on all profiles`)\n\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ApexClassesFileManager from './metadatamanagement/apexClasses/apexClassesFileManager'\nimport ApexClassFile from './metadatamanagement/apexClasses/structures/ApexClassFile'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport sObjFileMgr from './metadatamanagement/sObjects/SObjectFilesManager'\nimport SObjectFile from './metadatamanagement/sObjects/structures/SObjectFile'\nimport FieldPermission from './metadatamanagement/profiles/structures/profile-fields-templates/FieldPermission'\nimport { SObjectType } from './metadatamanagement/sObjects/structures/SObjectType'\nimport AccessType from './metadatamanagement/profiles/structures/AccessType'\nimport SObjectFieldDefinition from './metadatamanagement/sObjects/structures/SObjectFieldDefinition'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureFLSForProfileAndSObject(profileName: string, sObjectName: string, objectDefinition: any, unpackedProfile: any): Promise<SObjectFieldDefinition> {\n  return new Promise(async (resolve, reject) => {\n    if (objectDefinition.CustomObject.fields) {\n      const filteredSelectedObjFields = objectDefinition.CustomObject.fields.filter((field: any) => {\n        return field.fullName.endsWith('__c') && !field.required\n      })\n\n      const fieldPermissions: FieldPermission[] = unpackedProfile.Profile.fieldPermissions\n      const mappedPermissions = fieldPermissions.reduce((acc: any, current: any) => {\n        if (current.field.startsWith(sObjectName)) { acc[current.field] = current }\n        return acc\n      }, {})\n\n      const options = filteredSelectedObjFields.map((field: any) => {\n        let opt = {\n          label: field.fullName,\n          description: '',\n          detail: '',\n          field: {\n            editable: false,\n            field: field.fullName,\n            readable: false\n          }\n        }\n        if (mappedPermissions[`${sObjectName}.${field.fullName}`]) {\n          let perm = mappedPermissions[`${sObjectName}.${field.fullName}`]\n\n          opt.description += perm.editable ? '✏️' : (perm.readable ? '👀' : '❌')\n          opt.detail += perm.editable ? 'EDITABLE' : (perm.readable ? 'READABLE' : 'NO ACCESS')\n\n          opt.field = field\n\n        } else {\n          opt.description = '🤷‍'\n          opt.detail = 'NOT IN PROFILE'\n        }\n        return opt\n      })\n\n\n\n      const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select ${sObjectName} field you want to edit FLS for profile ${profileName}.`, matchOnDetail: true })\n      if (res !== undefined) {\n        resolve(res.field)\n      } else {\n        reject('Profiles FLS Configuration Aborted')\n      }\n\n    } else {\n      reject(`No Fields were found for the SObject ${sObjectName}`)\n    }\n\n  })\n}\n\nasync function configureFLSForField(field: string, profileName: string): Promise<AccessType> {\n  return new Promise(async (resolve, reject) => {\n\n    let options = [\n      {\n        label: 'READABLE',\n        description: '👀',\n        perm: AccessType.read\n      },\n      {\n        label: 'EDITABLE',\n        description: '✏️',\n        perm: AccessType.edit\n      },\n      {\n        label: 'NO ACCESS',\n        description: '❌',\n        perm: AccessType.none\n      },\n    ]\n\n    const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select ${field} access level for profile ${profileName}.` })\n\n    if (res !== undefined) {\n      resolve(res.perm)\n    } else {\n      reject('Profiles FLS Configuration Aborted')\n    }\n\n  })\n}\n\nexport default async function configureProfilesFLS() {\n  Monitor.getInstance().sendEvent('configureProfilesFLS')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const SObjectFiles = await sObjFileMgr.getObjectsFromMetaData()\n    // Filtering out custom metadata\n    const pickedSObject: SObjectFile = await Prompts.sObjects.pickOne(SObjectFiles.filter((sObj) => sObj.sObjectType === SObjectType.SObject))\n    const objectDefinition: any = await sObjFileMgr.readSObjectDefinitionFile(pickedSObject)\n\n    const pickedField: SObjectFieldDefinition = await configureFLSForProfileAndSObject(selectedProfile.label, pickedSObject.label, objectDefinition, unpackedProfile)\n\n    const permission: AccessType = await configureFLSForField(pickedField.fullName, selectedProfile.label)\n\n\n    ProfilesFileMgr.updateProfilesVisibilityForField([selectedProfile], [{ sObject: pickedSObject, fields: [pickedField] }], permission)\n    vscode.window.showInformationMessage(`Updated FLS on profile ${selectedProfile.label} for ${pickedSObject.label}.${pickedField.fullName}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    console.log(err)\n  }\n}"],"sourceRoot":""}